{"version":3,"sources":["styles/SignInUpForm.module.css","styles/Button.module.css","pages/auth/LoginPage.jsx"],"names":["module","exports","LoginPage","_errors$username","_errors$password","_errors$non_field_err","useAuth","setCurrentUser","useSetAuth","history","useHistory","loginData","setLoginData","useState","username","password","errors","setErrors","handleChange","event","_objectSpread","target","name","value","_jsxs","Row","className","styles","children","Col","md","Container","concat","appStyles","Content","_jsx","Header","Form","onSubmit","async","preventDefault","data","axios","post","user","setTokenTimestamp","push","err","_err$response","response","Group","controlId","Label","Control","type","placeholder","Input","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","to","SignInCol","Image","FillerImage","src"],"mappings":"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","file":"static/js/6.78517fa8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3PbVy\",\"Input\":\"SignInUpForm_Input__3xaLZ\",\"Header\":\"SignInUpForm_Header__3joQJ\",\"Link\":\"SignInUpForm_Link__1BeMm\",\"Container\":\"SignInUpForm_Container__2cuBp\",\"SignInCol\":\"SignInUpForm_SignInCol__3ImPK\",\"SignUpCol\":\"SignInUpForm_SignUpCol__28o4y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\",\"Blue\":\"Button_Blue__10GcT\",\"BlueOutline\":\"Button_BlueOutline__YqCWO\",\"Bright\":\"Button_Bright__1MBHR\",\"Black\":\"Button_Black__2dCp7\",\"BlackOutline\":\"Button_BlackOutline__I-kZ-\"};","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport { Form, Alert, Button, Col, Row, Image, Container } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useAuth, useSetAuth } from \"../../contexts/AuthContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\n\nfunction LoginPage() {\n  const currentUser = useAuth();\n  const setCurrentUser = useSetAuth();\n  const history = useHistory();\n\n  const [loginData, setLoginData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const { username, password } = loginData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", loginData);\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(\"/\"); // Redirect to homepage after successful login\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  const handleChange = (event) => {\n    setLoginData({\n      ...loginData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto p-0 p-md-2\" md={6}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Login</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                className={styles.Input}\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                className={styles.Input}\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.password?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\n              type=\"submit\"\n            >\n              Sign In\n            </Button>\n            {errors.non_field_errors?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                {message}\n              </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/signup\">\n            Don't have an account? <span>Sign up now!</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={6}\n        className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\n      >\n        <Image\n          className={`${appStyles.FillerImage}`}\n          src=\"https://codeinstitute.s3.amazonaws.com/AdvancedReact/hero.jpg\"\n        />\n      </Col>\n    </Row>\n  );\n}\n\nexport default LoginPage;\n"],"sourceRoot":""}